# 10장 리액트 17과 18의 변경 사항 살펴보기

- [10장 리액트 17과 18의 변경 사항 살펴보기](#10장-리액트-17과-18의-변경-사항-살펴보기)
  - [10.1 리액트 17 버전 살펴보기](#101-리액트-17-버전-살펴보기)
    - [10.1.3 import React from 'react'가 더 이상 필요 없다: 새로운 JSX transform](#1013-import-react-from-react가-더-이상-필요-없다-새로운-jsx-transform)
    - [10.1.4 그 밖의 주요 변경 사항](#1014-그-밖의-주요-변경-사항)
      - [이벤트 풀링 제거](#이벤트-풀링-제거)
    - [10.1.5 정리](#1015-정리)

## 10.1 리액트 17 버전 살펴보기

### 10.1.3 import React from 'react'가 더 이상 필요 없다: 새로운 JSX transform

JSX : 브라우저가 이해할 수 있는 코드가 아님. 일반적인 자바스크립트로 변환하는 과정이 꼭 필요.  
=> 이 변환 작업이 보이지 않는 리액트 단에서 이뤄짐. 16버전까지는 React를 사용하는 구문이 없어도 `import React from 'react'`가 필요하고, 없으면 에러 발생.

리액트 17부터는 바벨과 협력해 import 구문이 없어도 JSX 변환 가능  
=> 불필요한 import 구문 삭제로 번들링 크기 약간 줄이고, 컴포넌트 작성 간결해짐

```jsx
const Component = (
  <div>
    <span>hello world</span>
  </div>
);

//react 16
var Component = React.createElement(
  'div',
  null,
  React.createElement('span', null, 'hello world')
);

//react 17
('use strict');

var _jsxRuntime = require('react/jsx-runtime');

var Component = (0, _jsxRuntime.jsx)('div', {
  children: (0, _jsxRuntime.jsx)('span', {
    children: 'hello world',
  }),
});
```

React.createElement가 사라지고 require() 구문 추가.

require() : JSX를 변환할 때 필요한 모듈인 react/jsx-runtime을 불러옴

기존 import 구문은 `npx react-codemod update-react-imports` 명령어로 삭제 가능

- 17버전 장점
  - react/jsx-runtime의 jsx 쪽이 훨씬 더 내부 로직 간결
  - import React 구문이 사라져 번들 사이즈 줄어듦

### 10.1.4 그 밖의 주요 변경 사항

#### 이벤트 풀링 제거

리액트 16의 이벤트 풀링

이벤트를 처리하기 위한 SyntheticEvent : 브라우저의 기본 이벤트를 한 번 더 감싼 이벤트 객체  
리액트는 브라우저 기본 이벤트가 아닌 한 번 래필한 이벤트를 사용 => 이벤트가 발생할 때마다 만들어지고, 메모리 할당 작업이 일어남 => 메모리 누수 방지 위해 주기적으로 해제해야 함

이벤트 풀링 : SyntheticEvent 풀을 만들어서 이벤트가 발생할 때마다 가져오는 것

- 이벤트 풀링 시스템
  1. 이벤트 핸들러가 이벤트 발생시킴
  2. 합성 이벤트 풀에서 합성 이벤트 객체에 대한 참조를 가져옴
  3. 이 이벤트 정보를 합성 이벤트 객체에 넣어줌
  4. 유저가 지정한 이벤트 리스너 실행
  5. 이벤트 객체 초기화, 다시 이벤트 풀로 돌아감

### 10.1.5 정리
